<style>


  body {
    margin: 0;
    padding: 0;
  }
  
  #container1 {
      display: inline;
      position: absolute;
  }
 
  
  #container3 {
      position: absolute;
      transform: scale(-1, 1);
      width: 60px;
      clip-path: polygon(32% 0, 100% 50%, 31% 100%, 4% 100%, 75% 50%, 10% 0);
      height: 60px;
      left: 0;
      margin-left: 73px;
      width: 45px;
      height: 57px;
      clip-path: polygon(28% 0, 100% 50%, 31% 100%, 0 100%, 68% 50%, 0 0);
  }
  
  
  #container4 {
  position: absolute;
      clip-path: polygon(28% 0, 100% 50%, 31% 100%, 0 100%, 68% 50%, 0 0);
      width: 45px;
      height: 57px;
      right: 0;
      margin-right: 73px;
  }
  
  #container2 {
      position: fixed;
      touch-action: none;
      left: 0;
      object-fit: cover;
      clip-path: url(#clipping);
      transform: rotate(45deg);
      margin-top: 118.5%;
      margin-left: -130px;
      
      width: 410px;
      height: 170px;
      margin-top: 436px;
      margin-left: 244px;
  }
  
  #container6 {
      position: fixed;
      touch-action: none;
      left: 0;
      object-fit: cover;
      clip-path: url(#clipping);
      transform: rotate(45deg);
      margin-top: 118.5%;
      margin-left: -130px;
      
      width: 410px;
      height: 170px;
      margin-top: 436px;
      margin-left: 244px;
  }
  
  @import url("https://fonts.googleapis.com/css?family=Cormorant+Garamond:300,400,600|Tulpen+One&display=swap");
  :root {
    /* colors */
    --body-bg: #FAFAFA;
    --page-bg: #F5F5F5;
    --dark-text: #2A2935;
    /* spacing */
    /* this is what defines the global scale */
    --baseline: 12px;
    /* fonts */
    --book-title: "Tulpen One", sans-serif;
    --title: "Cormorant Garamond", serif;
    --body: "Cormorant Garamond", serif;
    --base-size: var(--baseline) * 1.2;
  }
  
  * {
    box-sizing: border-box;
  }
  
  body {
    background-color: var(--body-bg);
    height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }
  
  .cover {
      width: 80%;
      height: 90%;
    box-shadow: 0 0 100px rgba(0, 0, 0, 0.3);
  }
  
  .book {
    width: 100%;
    height: 100%;
    display: flex;
    perspective: 1200px;
  }
  .book__page {
    position: relative;
    width: 50%;
    height: 100%;
    display: grid;
    transform: rotateY(0deg);
    transition: transform 0.9s cubic-bezier(0.645, 0.045, 0.355, 1);
    transform-origin: 0% 0%;
    background-color: var(--page-bg);
    background-image: linear-gradient(90deg, #e3e3e3 0%, rgba(247, 247, 247, 0) 18%);
  }
  .book__page:nth-of-type(1) {
    background-image: linear-gradient(-90deg, #e3e3e3 0%, rgba(247, 247, 247, 0) 18%);
  }
  .book__page--1 {
    cursor: pointer;
    overflow: hidden;
  }
  .book__page--1 img {
    width: 100%;
    max-width: 100%;
    height: auto;
  }
  .book__page--2 {
    position: absolute;
    right: 0;
    pointer-events: none;
    transform-style: preserve-3d;
    background-color: var(--page-bg);
    background-image: linear-gradient(90deg, #e3e3e3 0%, rgba(247, 247, 247, 0) 18%);
  }
  .book__page--4, .book__page--2 {
    cursor: pointer;
    padding: 0 calc(var(--baseline) * 3);
  }
  
  .book__page--5 {
    position: absolute;
    right: 0;
    pointer-events: none;
    transform-style: preserve-3d;
    background-color: var(--page-bg);
    background-image: linear-gradient(90deg, #e3e3e3 0%, rgba(247, 247, 247, 0) 18%);
  }
  .book__page-front {
    position: absolute;
    width: 100%;
    height: 100%;
    transform: rotateY(0deg) translateZ(1px);
    padding: 0 calc(var(--baseline) * 3);
  }
  .book__page-back {
    position: absolute;
    width: 100%;
    height: 100%;
    padding: 0 calc(var(--baseline) * 1.8);
    transform: rotateY(180deg) translateZ(1px);
    padding-left:0;
  }
  .book__page .page__content {
    padding: var(--baseline);
    height: 100%;
    position: relative;
    text-align: center;
    padding-top: 0;
    overflow: hidden;
  }
  .book__page .page__content-book-title {
    font-family: var(--book-title);
    font-size: calc(var(--base-size) * 3);
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 3px;
    color: var(--dark-text);
    margin-top: calc(var(--baseline) * 5);
    margin-bottom: calc(var(--baseline) * 8);
  }
  .book__page .page__content-author {
    font-family: var(--title);
    font-size: calc(var(--base-size) * 1.2);
    font-weight: 100;
    text-transform: uppercase;
    color: var(--dark-text);
    border-top: 1px solid var(--dark-text);
    border-bottom: 1px solid var(--dark-text);
    display: inline-block;
    padding: calc(var(--baseline) / 2) calc(var(--baseline) / 5);
    margin-bottom: calc(var(--baseline) * 6);
  }
  .book__page .page__content-credits {
    font-family: var(--title);
    text-transform: uppercase;
    font-size: calc(var(--base-size) * 0.8);
    margin-bottom: calc(var(--baseline) * 8);
    letter-spacing: 1px;
  }
  .book__page .page__content-credits span {
    display: block;
    font-size: calc(var(--base-size) * 1.2);
    letter-spacing: 0;
  }
  .book__page .page__content-copyright {
    position: absolute;
    width: calc(100% - (var(--baseline) * 2));
    bottom: calc(var(--baseline) * 8);
    font-family: var(--title);
    font-size: calc(var(--base-size) * 0.8);
    text-transform: uppercase;
  }
  .book__page .page__content-title {
    font-family: var(--title);
    font-size: 18px;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-top: calc(var(--baseline) * 5);
    margin-bottom: calc(var(--baseline) * 3);
  }
  .book__page .page__content-table {
    width: 100%;
    margin-top: 0px;
  }
  .book__page .page__content-table td {
    font-family: var(--title);
    font-size: 16px;
    padding-bottom: calc(var(--baseline) * 1.5);
    text-transform: uppercase;
  }
  .book__page .page__content-blockquote {
    margin-bottom: calc(var(--baseline) * 8);
  }
  .book__page .page__content-blockquote-text {
    font-family: var(--title);
    font-size: 18px;
    font-style: italic;
    text-align: justify;
  }
  .book__page .page__content-blockquote-reference {
    font-family: var(--title);
    font-size: calc(var(--base-size) * 0.7);
    margin-top: calc(var(--baseline) * 0.3);
    float: right;
    text-transform: uppercase;
  }
  .book__page .page__content-text {
    font-family: var(--title);
    font-size: 18px;
    text-align: justify;
    text-indent: var(--baseline);
  }
  .book__page .page__number {
    position: absolute;
    bottom: var(--baseline);
    width: calc(100% - (var(--baseline) * 2));
    font-family: var(--title);
    font-size: 18px;
    text-align: center;
  }
  .book input[type=radio] {
    display: none;
  }
  .book input[type=radio]:checked + .book__page {
    transition: transform 0.9s cubic-bezier(0.645, 0.045, 0.355, 1);
    transform: rotateY(-180deg);
  }
  
  #container2 {
    position: fixed;
  }
  
  .logo {
  transform: rotate(45deg);
      margin-top: 426px;
      position: absolute;
      width: 396px;
      margin-left: -133px;
  }
  
  
  .arrow {
    border: solid black;
    border-width: 0 3px 3px 0;
    display: inline-block;
    padding: 3px;
  }
  
  .right {
    transform: rotate(-45deg);
    -webkit-transform: rotate(-45deg);
  }
  
  .left {
    transform: rotate(135deg);
    -webkit-transform: rotate(135deg);
  }
  
  .up {
    transform: rotate(-135deg);
    -webkit-transform: rotate(-135deg);
  }
  
  .down {
    transform: rotate(45deg);
    -webkit-transform: rotate(45deg);
  }
  
  
  @font-face {
    font-family: Alliance;
    src: url(https://github.githubassets.com/static/fonts/alliance/Alliance-No-1-ExtraBold.woff);
    font-weight: 900;
  }
  
  @font-face {
      font-family: Alliance;
      src: url(https://github.githubassets.com/static/fonts/alliance/Alliance-No-1-SemiBold.woff);
      font-weight: 700;
  }
  
  @font-face {
      font-family: Alliance;
      src: url(https://github.githubassets.com/static/fonts/alliance/Alliance-No-1-Bold.woff);
      font-weight: 500;
  }
  
  @font-face {
      font-family: Alliance;
      src: url(https://github.githubassets.com/static/fonts/alliance/Alliance-No-1-Regular.woff);
      font-weight: 200;
  }
  
  @font-face {
      font-family: SFMono;
      src: url(./FontsFree-Net-SFMono-Regular.ttf);
  
  }
  
  
  body {
    overflow: hidden;
    margin: 0;
      font-family: Alliance, sans-serif;
  }
  
  ul {
      list-style-type: none;
  }
  
  a {
      text-decoration: none;
  }
  
  a:link { 
      color: black; 
  } 
  
  a:visited { 
      color: black; 
  }
  .menu {
      flex-direction: row;
      justify-content: space-between;
      align-items: center;
      z-index: 1;
      display: flex;
      margin: 20px;
  }
  
  .main_text {
      z-index: 1;
      font-size: 4.5rem!important;
      margin-left: 20%;
      margin-top: 27px;
  }
  
  menu ul {
      display: flex;
      align-items: center;
  }
  
  menu ul li {
      color: black;
      text-transform: uppercase;
      font-family: sans-serif;
      text-decoration: none;
      font-size: 25px;
      margin: 0 24px;
      font-weight: 100;
      transition: all 0.4s linear;
  }
  menu ul li:nth-child(1) {
  font-size: 20px;
      border: 0.5px solid;
      padding: 7px;
      border-radius: 10px;
      margin-left: 5px;
      background: #6a2082;
      color: #ffffff;
      padding-left: 9px;
      padding-right: 10px;
  }
  
  .discount_btn {
    background: black;
    color: #ffffff;
    padding: 10px 20px;
    font-size: 23px;
    position: absolute;
    text-transform: uppercase;
    border-radius: 12px;
    right: 38px;
    bottom: 5px;
    transition: all 0.4s linear;
  }
  
  .discount_btn:hover {
    color: #6a2082;
    background-color: white;
  }
  
  menu ul li:nth-child(1):hover {
      background-color: white;
      border-color: #6a2082;
  }
  
  menu ul li:nth-child(1) a:hover {
      color: 6a2082;
  }
  
  menu ul li:nth-child(1) a, menu ul li:nth-child(1) a:visited {
      color: white;
  }
  
  
  menu ul li:nth-child(6) {
      padding-left: 0;
      font-size: 25px;
      border: 0.5px solid;
      padding: 4px 7px;
      border-radius: 10px;
      border-color: #6a2082;
  }
  
  menu ul li:nth-child(6):hover {
      background-color: #78277e;
  }
  
  menu ul li:nth-child(6) a:hover {
      color: white;
  }
  
  menu ul li:nth-child(6) a:hover svg {
      stroke: white;
  }
  
  menu ul li:nth-child(6) a, menu ul li:nth-child(6) a:visited {
      color: #6a2082;
  }
  
  
  
  menu ul li:nth-child(7):hover,  menu ul li:nth-child(7):hover a, menu ul li:nth-child(7):hover a:visited {
      border-color: #78277e;
      color: #78277e;
  }
  
  :root {
    --shadow-color: #FF9E9E;
    --shadow-color-light: white;
  }
  
  menu ul li a, menu ul li a svg {
      transition: all 0.4s linear;
  }
    
    
   
    
  menu ul li:nth-child(n+2):nth-child(-n+5) a:hover, menu ul li:nth-child(n+2):nth-child(-n+5) a:visited:hover {
      color: #78277e;
      text-decoration: underline;
      transition: all 0s linear;
  }
  
  @keyframes neon {
    0% {
      text-shadow: -1px -1px 1px var(--shadow-color-light), -1px 1px 1px var(--shadow-color-light), 1px -1px 1px var(--shadow-color-light), 1px 1px 1px var(--shadow-color-light),
      0 0 3px var(--shadow-color-light), 0 0 10px var(--shadow-color-light), 0 0 20px var(--shadow-color-light),
      0 0 30px var(--shadow-color), 0 0 40px var(--shadow-color), 0 0 50px var(--shadow-color), 0 0 70px var(--shadow-color), 0 0 100px var(--shadow-color), 0 0 200px var(--shadow-color);
    }
    50% {
      text-shadow: -1px -1px 1px var(--shadow-color-light), -1px 1px 1px var(--shadow-color-light), 1px -1px 1px var(--shadow-color-light), 1px 1px 1px var(--shadow-color-light),
      0 0 5px var(--shadow-color-light), 0 0 15px var(--shadow-color-light), 0 0 25px var(--shadow-color-light),
      0 0 40px var(--shadow-color), 0 0 50px var(--shadow-color), 0 0 60px var(--shadow-color), 0 0 80px var(--shadow-color), 0 0 110px var(--shadow-color), 0 0 210px var(--shadow-color);
    }
    100% {
      text-shadow: -1px -1px 1px var(--shadow-color-light), -1px 1px 1px var(--shadow-color-light), 1px -1px 1px var(--shadow-color-light), 1px 1px 1px var(--shadow-color-light),
      0 0 3px var(--shadow-color-light), 0 0 10px var(--shadow-color-light), 0 0 20px var(--shadow-color-light),
      0 0 30px var(--shadow-color), 0 0 40px var(--shadow-color), 0 0 50px var(--shadow-color), 0 0 70px var(--shadow-color), 0 0 100px var(--shadow-color), 0 0 200px var(--shadow-color);
    }
  }
  
  ul li a {
      display: flex;
  }
  
  a svg {
      width: 16px;
      stroke: hsl(285deg 60% 30%);
      background: transparent;
      margin-left: 6px;
  }
  
  
  
   .wrap_popup_signlog {
      position: absolute;
      z-index: 9999;
      background-color: #00000070;
      width: 100%;
      height: 100%;
      display: none;
      align-items: center;
      justify-content: center;
   }
  
  .popup_signlog {
      z-index: 999;
      text-align: center;
      padding: 27px;
      font-size: 27px;
      align-items: center;
      display: flex;
      flex-direction: column;
      padding-top: 15px;
  }
  
  
  
  #container5 {
      position: absolute;
      width: 757px;
      height: 348px;
      overflow: hidden;
      margin-left: 3px;
  }
  
  #container5 canvas {
      opacity: 0.28;
  }
  
  .popup_signin {
      margin-top: 34px;
      border: 0.5px solid;
      padding: 7px 38px;
      border-radius: 10px;
      background: #6a2082;
      color: #ffffff;
      border-color: #6a2082;
      padding-bottom: 10px;
      width: fit-content;
  }
  
  .popup_signup {
      margin-top: 20px;
      border: 0.5px solid;
      padding: 7px 30px;
      border-radius: 10px;
      color: #6a2082;
      border-color: #6a2082;
      padding-bottom: 10px;
      width: fit-content;
  }
  
  .close {
      width: 55px;
      height: 55px;
      cursor: pointer;
      position: absolute;
      margin-top: -20px;
      margin-left: 720px;
  }
  
  .close:before,
  .close:after {
      content: "";
      position: absolute;
      top: 21px;
      left: 10px;
      width: 26px;
      height: 2px;
      background: white;
  }
  
  .close:before {
      webkit-transform: rotate(45deg);
      transform: rotate(45deg);
  }
  
  .close:after {
      webkit-transform: rotate(-45deg);
      transform: rotate(-45deg);
  }
  </style>
  
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/88/three.min.js"></script>
  <script id="vertexShader" type="x-shader/x-vertex">
      void main() {
          gl_Position = vec4( position, 1.0 );
      }
  </script>
  <script id="fragmentShader" type="x-shader/x-fragment">
    uniform vec2 u_resolution;
    uniform vec2 u_mouse;
    uniform float u_time;
    uniform sampler2D u_noise;
    uniform sampler2D u_environment;
    
    vec2 movement;
    float scale = 5.;
  
    vec2 hash2(vec2 p)
    {
      vec2 o = texture2D( u_noise, (p+0.5)/256.0, -100.0 ).xy;
      return o;
    }
    
    void grid(vec2 uv, inout vec3 colour, vec3 gridcolour, vec2 size, float linewidth) {
      vec2 grid = (fract(uv/size+.5)-.5)*size;
      grid = abs(grid);
      float gridlines = smoothstep(linewidth, linewidth + 0.005, min(grid.x, grid.y));
      colour = mix(gridcolour, colour, gridlines);
    }
    
    float voronoi(vec2 uv, inout vec2 n_point, inout vec2 s_n_point, inout float s_dist) {
      
      float dist = 4.;
      s_dist = 4.;
      float s_result = 0.;
      
      vec2 grid_id = floor(uv);
      vec2 grid_uv = fract(uv);
      
      float exponent = clamp(abs(u_mouse.y * 50.), 7., 50.);
      float result = 0.;
      
      for(float j = -1.; j < 2.; j++) {
        for(float i = -1.; i < 2.; i++) {
          vec2 offset = vec2(i, j);
          vec2 grid_test_id = grid_id + offset;
          vec2 rand = hash2(grid_test_id);
          vec2 point_pos = offset + rand - grid_uv;
  
          // The following adds some random animation to the particles
          rand = hash2(grid_test_id + 1000.);
          rand = 0.5 + 0.4*sin((u_time) + 6.2831*rand);
          point_pos = offset + rand - grid_uv;
          
          // float len = length(point_pos); // the length gives us a more euclidian (conic) length
          float len = dot(point_pos, point_pos); // The float gives us a more rounded distance
          // float len = abs(point_pos.x)+abs(point_pos.y); // manhatten distance
          result += exp( -exponent*len ); // To soften the effect, use this. You'll also need to return the log result, commented out below
          
          if(len < dist) {
            s_dist = dist;
            dist = len;
            s_n_point = n_point;
            n_point = point_pos;
          } else if (len < s_dist) {
            s_dist = len;
            s_n_point = point_pos;
          }
        }
      }
      
      return -(1.0/exponent)*log( result );
      
      return dist;
    }
  //   Naive environment mapping. Pass the reflected vector and pull back the texture position for that ray.
    vec3 envMap(vec3 rd, vec3 sn){
  
        rd.xy -= u_time*.2; // This just sort of compensates for the camera movement
        // rd.xy -= movement;
        rd /= scale; // scale the whole thing down a but from the scaled UVs
      
        vec3 col = texture2D(u_environment, rd.xy - .5, 100.).rgb;
        col *= normalize(col);
        // col *= vec3(1., 1., 1.2);
        // vec3 col = vec3(hash2(rd.xy).y * .5 + .5);
  
        return col;
  
    }
  
    
    float bumpMap(vec2 uv, inout vec2 q, inout vec2 r, inout float s_dist) {
      
      float vor = voronoi(uv, q, r, s_dist);
      
      // return dot(r, r);
      // return s_dist * vor;
      
      return abs(vor - 1.) * ((u_mouse.x + .5) * 3. + 1.);
    }
  
    vec4 renderPass(vec2 uv, vec2 uvoffset) {
      vec3 surfacePos = vec3(uv, 0.0);
      vec3 ray = normalize(vec3(uv - movement, 1.));
      // vec3 lightPos = vec3(cos(u_time / 2.) * 2., sin(u_time / 2.) * 2., -3.);
      vec3 lightPos = vec3(0., 0., -3.) + vec3(movement, 0.);
      vec3 normal = vec3(0., 0., -1);
  
      vec2 sampleDistance = vec2(1. / u_resolution.x, 0.);
  
      vec2 q = vec2(0.,0.);
      vec2 r = vec2(0.,0.);
      float s_dist = 4.;
  
      float fx = bumpMap(surfacePos.xy-sampleDistance.xy + uvoffset, q, r, s_dist);
      float fy = bumpMap(surfacePos.xy-sampleDistance.yx + uvoffset, q, r, s_dist);
      s_dist = 4.;
      float f = bumpMap(surfacePos.xy + uvoffset, q, r, s_dist);
      fx = (fx-f)/sampleDistance.x;
      fy = (fy-f)/sampleDistance.x;
      normal = normalize( normal + vec3(fx, fy, 0) * 0.2 );           
  
      vec3 lightV = lightPos - surfacePos;
      float lightDist = max(length(lightV), 0.001);
      lightV /= lightDist;
  
      vec3 lightColour = vec3(.8, .8, 1.);
  
      float shininess = 1.;
      float brightness = 4.;
      float roughness = 2.;
  
      float falloff = 0.6;
      float attenuation = 1./(1.0 + lightDist*lightDist*falloff);
  
      float diffuse = max(dot(normal, lightV), 0.);
      float specular = pow(max(dot( reflect(-lightV, normal), -ray), 0.), 50.) * shininess;
      // specular *= sqrt(roughness);
      
      vec2 _q = abs(normalize(q));
      
      // vec3 tex = texture2D(u_environment, (reflect(vec3(uv, -1.), normal)).xy ).rgb;
      vec3 reflect_ray = reflect(vec3(uv - movement, 1.), normal * 1.);
      // The reflect ray is the ray wwe use to determine the reflection.
      // We use the UV less the movement (to account for "environment") to the surface normal
      vec3 tex = envMap(reflect_ray, normal); // Fake environment mapping.
  
      // vec3 texCol = (vec3(s_dist, f, .5)) * brightness;
      vec3 texCol = tex * brightness;
  
      vec3 colour = (texCol * (diffuse*vec3(1, .97, .92)*2. + 0.5) + lightColour*specular * f * 2.)*attenuation*1.5;
      // colour += texCol * .2;
  
      return vec4(colour, 1.);
    }
  
    void main() {
      vec2 uv = (gl_FragCoord.xy - 0.5 * u_resolution.xy) / min(u_resolution.y, u_resolution.x);
      
      uv *= scale;
      movement = vec2(u_time, 0.);
      uv += movement;
      
      // vec4 render = renderPass(uv, vec2(cos(u_time), sin(u_time)));
      vec4 render = renderPass(uv, vec2(0.));
      
      
      
      // grid(uv, colour, vec3(1.), vec2(1.), .005);
  
      gl_FragColor = render;
    }
  </script>
  
  
  
  <div id="container1" touch-action="none"></div>
  

  <script>
  document.querySelector(".close").onclick = function() {
      document.querySelector(".wrap_popup_signlog").style.display = "none";
  };
  
  document.querySelector(".download").onclick = function() {
      document.querySelector(".wrap_popup_signlog").style.display = "flex";
  };
  
  
  </script>
  
  
         

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <button id='pause' style="position: absolute;bottom: 0;z-index: 1;">Pause</button>
<button id='continue'style="position: absolute;bottom: 0;  z-index: 0;   padding-left: 135px;">Continue</button>
  <script src="./js/babel.min.js"></script>
  
  <script type="text/babel">
  
  
  var apps = [];
  
  
  function preView() {
    apps.push(new App(1));
    apps.push(new App(2));
    apps.push(new App(3));
    apps.push(new App(4));
    apps.push(new App(5));
    apps.push(new App(6));
    
    function App(id) {
  
      let container;
      let camera, scene, renderer;
      let uniforms;
  
      let loader=new THREE.TextureLoader();
      let texture, environment;
  
  
      loader.setCrossOrigin("anonymous");
  
      loader.load(
        'https://s3-us-west-2.amazonaws.com/s.cdpn.io/982762/noise.png',
        function texture_load(tex) {
          texture = tex;
          texture.wrapS = THREE.RepeatWrapping;
          texture.wrapT = THREE.RepeatWrapping;
          texture.minFilter = THREE.LinearFilter;
          loader.load( 
            'https://barskaeleena.github.io/neuroaesthetics/images/husserl3.png',
            function environment_load(tex) {
              environment = tex;
              environment.wrapS = THREE.RepeatWrapping;
              environment.wrapT = THREE.RepeatWrapping;
              environment.minFilter = THREE.LinearFilter;
              init();
              animate();
            }
          );
        }
      );
  
      function init() {
        container = document.getElementById( 'container'+id );
  
        camera = new THREE.Camera();
        camera.position.z = 1;
  
        scene = new THREE.Scene();
  
        var geometry = new THREE.PlaneBufferGeometry( 2, 2 );
  
        uniforms = {
          u_time: { type: "f", value: 1.0 },
          u_resolution: { type: "v2", value: new THREE.Vector2() },
          u_noise: { type: "t", value: texture },
          u_environment: { type: "t", value: environment },
          u_mouse: { type: "v2", value: new THREE.Vector2() }
        };
  
        var material = new THREE.ShaderMaterial( {
          uniforms: uniforms,
          vertexShader: document.getElementById( 'vertexShader' ).textContent,
          fragmentShader: document.getElementById( 'fragmentShader' ).textContent
        } );
        material.extensions.derivatives = true;
  
        var mesh = new THREE.Mesh( geometry, material );
        scene.add( mesh );
  
        renderer = new THREE.WebGLRenderer();
        renderer.setPixelRatio( 1 );
        container.appendChild( renderer.domElement );
          
        onWindowResize();
        //window.addEventListener( 'resize', onWindowResize, false );
  /*
    document.addEventListener('pointermove', (e)=> {
      let ratio = window.innerHeight / window.innerWidth;
      uniforms.u_mouse.value.x = (e.pageX - window.innerWidth / 2) / window.innerWidth / ratio;
      uniforms.u_mouse.value.y = (e.pageY - window.innerHeight / 2) / window.innerHeight * -1;
      
      e.preventDefault();
    });
    */
      }

      var paused=false;



// pause the animation on #pause click
$('#pause').on('click',function(){
  paused=true;
});

// continue the animation on #continue click
$('#continue').on('click',function(){
  paused=false;
  requestAnimationFrame(animate);
});
  
      function onWindowResize( event ) {
        renderer.setSize( window.innerWidth, "1000");
        uniforms.u_resolution.value.x = window.innerWidth;
        uniforms.u_resolution.value.y = "1000";
  
      }
  
      function animate() {
        if(paused){return;}
        requestAnimationFrame( animate );
        render();
      }
  
      function render() {
        uniforms.u_time.value += 0.01;
        renderer.render( scene, camera );
      }
  
      
    }
  }
  
  preView();
  animate();
  function animate() {
    for (var i = 0; i < apps.length; ++i) {
      apps[i].animate();
    }
    requestAnimationFrame(animate);
  }
  
  
  
     
  </script>
  
  <script>
  
  </script>
  

  
  
  